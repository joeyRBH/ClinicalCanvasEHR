# ClinicalCanvas EHR Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it contains secrets!

# =====================================================
# DATABASE CONFIGURATION (Crunchy Bridge)
# =====================================================
# Get this from your Crunchy Bridge dashboard
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://user:password@p.xxxxx.db.crunchybridge.com:5432/clinicalcanvas

# =====================================================
# STRIPE PAYMENT INTEGRATION
# =====================================================
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx

# Webhook secret for Stripe events
# Get from https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# Stripe Subscription Price IDs (create products in Stripe Dashboard first)
# See STRIPE_SUBSCRIPTION_SETUP.md for detailed setup instructions
STRIPE_PRICE_ESSENTIAL=price_xxxxxxxxxxxxxxxxxxxxx           # $35/month - Essential EHR
STRIPE_PRICE_PROFESSIONAL_TELEHEALTH=price_xxxxxxxxxxxxxxxxxxxxx  # $50/month - EHR + Telehealth
STRIPE_PRICE_PROFESSIONAL_AI=price_xxxxxxxxxxxxxxxxxxxxx      # $50/month - EHR + AI Notes
STRIPE_PRICE_COMPLETE=price_xxxxxxxxxxxxxxxxxxxxx             # $65/month - Complete Suite

# =====================================================
# SENDGRID EMAIL SERVICE
# =====================================================
# Get from https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxx

# Email settings
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=ClinicalCanvas EHR

# =====================================================
# TWILIO SMS & VIDEO SERVICES
# =====================================================
# Get from https://console.twilio.com/

# Twilio Account Credentials (required for both SMS and Video)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxx

# SMS Service
TWILIO_PHONE_NUMBER=+15555551234

# Video Service (for Telehealth)
# Create API Key at: https://console.twilio.com/us1/develop/video/manage-api-keys
TWILIO_API_KEY_SID=SKxxxxxxxxxxxxxxxxxxxxx
TWILIO_API_KEY_SECRET=xxxxxxxxxxxxxxxxxxxxx

# =====================================================
# AWS SES (Alternative to SendGrid)
# =====================================================
# Only needed if using AWS SES instead of SendGrid
# AWS_SES_ACCESS_KEY_ID=AKIAxxxxxxxxxxxxx
# AWS_SES_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxx
# AWS_SES_REGION=us-east-1

# =====================================================
# APPLICATION SETTINGS
# =====================================================
# JWT secret for session management
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Application URL (REQUIRED for security - used for CORS restrictions and email links)
# This must be set to your actual domain in production (e.g., https://clinicalcanvas.app)
# IMPORTANT: CORS headers use this to restrict API access to your domain only
APP_URL=https://your-app.vercel.app

# Node environment
NODE_ENV=production

# =====================================================
# OPTIONAL: BACKBLAZE B2 (if using for file storage)
# =====================================================
# B2_APPLICATION_KEY_ID=xxxxxxxxxxxxxxxxxxxxx
# B2_APPLICATION_KEY=xxxxxxxxxxxxxxxxxxxxx
# B2_BUCKET_NAME=clinicalcanvas-files
# B2_BUCKET_ID=xxxxxxxxxxxxxxxxxxxxx

# =====================================================
# HIPAA COMPLIANCE SETTINGS
# =====================================================
# Enable audit logging
ENABLE_AUDIT_LOG=true

# Session timeout (in minutes)
SESSION_TIMEOUT=30

# Require MFA for admin users
# REQUIRE_MFA=true

# =====================================================
# DEVELOPMENT/TESTING ONLY
# =====================================================
# Set to 'true' to enable demo mode without database
# DEMO_MODE=false

# Enable debug logging
# DEBUG=false

# =====================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# =====================================================
#
# 1. DATABASE_URL - Copy from Crunchy Bridge dashboard
#    - Go to: https://crunchybridge.com/dashboard
#    - Click your cluster → Connection
#    - Copy the connection string
#
# 2. Run the schema.sql file to create tables:
#    psql $DATABASE_URL < schema.sql
#
# 3. Set all environment variables in Vercel:
#    - Go to: https://vercel.com/dashboard
#    - Project Settings → Environment Variables
#    - Add each variable above
#
# 4. Security checklist:
#    ✓ Use strong, unique values for all secrets
#    ✓ Never commit .env file to git
#    ✓ Rotate keys regularly
#    ✓ Use Vercel's encrypted environment variables
#    ✓ Enable SSL for database connection (sslmode=require)
#
# 5. HIPAA Compliance:
#    ✓ Enable audit logging (ENABLE_AUDIT_LOG=true)
#    ✓ Use HTTPS only (Vercel enforces this)
#    ✓ Configure session timeouts
#    ✓ Document who has access to these credentials
#    ✓ Sign Business Associate Agreement (BAA) with:
#       - Crunchy Data (database)
#       - Vercel (hosting)
#       - Stripe (payments)
#       - SendGrid (email communications)
#       - Twilio (SMS and video/telehealth)
#
# =====================================================
